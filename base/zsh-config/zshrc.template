# oh-my-zsh 配置
export ZSH="/opt/oh-my-zsh"

# 自定义主题和插件目录（统一使用 ZSH_CUSTOM）
export ZSH_CUSTOM="/opt/zsh-custom"

# 使用自定义主题 gaeaflow（如需使用其他主题，可改为 "robbyrussell" 等）
ZSH_THEME="gaeaflow"

# oh-my-zsh 内置插件
# 注意：不要在这里添加 zsh-autocomplete，它需要在 oh-my-zsh 加载后手动 source
plugins=(
    git
    npm
    node
    python
)

source $ZSH/oh-my-zsh.sh

# 环境变量
export LC_ALL=C.UTF-8
export LANG=C.UTF-8
export LANGUAGE=C.UTF-8
export PATH=$HOME/.local/bin:$PATH

# 自定义别名
alias ll='ls -alF'
alias la='ls -A'
alias l='ls -CF'

# 手动加载自定义插件（顺序很重要！）
# 1. zsh-autocomplete 必须最先加载（在 oh-my-zsh 之后）
if [ -f $ZSH_CUSTOM/plugins/zsh-autocomplete/zsh-autocomplete.plugin.zsh ]; then
    source $ZSH_CUSTOM/plugins/zsh-autocomplete/zsh-autocomplete.plugin.zsh
fi

# 2. zsh-autosuggestions（自动建议）
if [ -f $ZSH_CUSTOM/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh ]; then
    source $ZSH_CUSTOM/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh
fi

# 3. 语法高亮必须最后加载（二选一）
# 推荐使用 fast-syntax-highlighting（性能更好）
if [ -f $ZSH_CUSTOM/plugins/fast-syntax-highlighting/fast-syntax-highlighting.plugin.zsh ]; then
    source $ZSH_CUSTOM/plugins/fast-syntax-highlighting/fast-syntax-highlighting.plugin.zsh
fi

# 备选：zsh-syntax-highlighting（如果不想用 fast-syntax-highlighting）
# if [ -f $ZSH_CUSTOM/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh ]; then
#     source $ZSH_CUSTOM/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
# fi
